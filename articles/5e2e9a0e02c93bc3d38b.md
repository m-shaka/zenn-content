---
title: "Brainfuckのwasmターゲットコンパイラを書く"
emoji: "🧠"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["WebAssembly", "Rust"]
published: false
---
# はじめに
表題の通り、BrainfuckのソースコードをWebAssemblyに変換するコンパイラを書きました。

本稿は以下のような流れで進行します。
1. コンパイラの大まかな構成
1. Brainfuckの仕様と、それをWebAssemblyで実現するために必要なWASI実装の説明
1. 生成コードの解説
1. 実行方法


# コンパイラの構成
このコンパイラは、Brainfuckのソースコードファイルを入力としてWebAssemblyのバイナリコードをファイル出力するプログラムです。WebAssemblyにはバイナリ形式とそれに対応するテキスト形式（以下ではwatと呼びます）があります。ブラウザで実行するAPIが提供されているのは前者ですが、バイナリなので人間が読み書きするにはかなりつらいです。一方、後者は機械語に対するアセンブリのような位置づけのテキストフォーマットで、普通に手書きできる程度には人間に優しいものです。自前で実装するのはwatに生成するところまでにして、バイナリ形式への変換は別のライブラリに任せます。今回は公式ツールである[wabt]()のRustバインディングを使います。
